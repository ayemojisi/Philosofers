NAME = philo
CC = gcc
RM = rm -rf
CFLAGS = -Wall -Werror -Wextra 

SRCS = main.c check_print.c eat_sleep_think.c  creat_free.c utils.c

FLAGS_DATARACE =  -g -fsanitize=thread 

RED=\033[31m
YELLOW=\033[33m
GREEN=\033[32m
CYAN=\033[36m
BLUE=\033[34m
MAGENTA=\033[35m
RESET=\033[0m

all: title  $(NAME)

$(NAME): $(SRCS)
	@$(CC) $(CFLAGS) $(SRCS) -o $(NAME)
	@rm -rf *.dSYM

title :
	@clear
	@echo "$(RED)																					   ";
	@echo "▓█████▄  ▒█████   ██ ▄█▀▄▄▄█████▓ ▒█████   ██▀███      ▄▄▄▄    █    ██     ███▄    █ ▓█████           ░░░░░░░░░░░░░░░░░░░░░░";
	@echo "▒██▀ ██▌▒██▒  ██▒ ██▄█▒ ▓  ██▒ ▓▒▒██▒  ██▒▓██ ▒ ██▒   ▓█████▄  ██  ▓██▒    ██ ▀█   █ ▓█   ▀       ░░░░███████████████████░░░░░";
	@echo "░██   █▌▒██░  ██▒▓███▄░ ▒ ▓██░ ▒░▒██░  ██▒▓██ ░▄█ ▒   ▒██▒ ▄██▓██  ▒██░   ▓██  ▀█ ██▒▒███       ░░░███████████████████████████░░░";
	@echo "░▓█▄   ▌▒██   ██░▓██ █▄ ░ ▓██▓ ░ ▒██   ██░▒██▀▀█▄     ▒██░█▀  ▓▓█  ░██░   ▓██▒  ▐▌██▒▒▓█  ▄    ░░████████████████████████████████░";
	@echo "░▒████▓ ░ ████▓▒░▒██▒ █▄  ▒██▒ ░ ░ ████▓▒░░██▓ ▒██▒   ░▓█  ▀█▓▒▒█████▓    ▒██░   ▓██░░▒████▒  ░███████████████████████████████████░";
	@echo " ▒▒▓  ▒ ░ ▒░▒░▒░ ▒ ▒▒ ▓▒  ▒ ░░   ░ ▒░▒░▒░ ░ ▒▓ ░▒▓░   ░▒▓███▀▒░▒▓▒ ▒ ▒    ░ ▒░   ▒ ▒ ░░ ▒░ ░ ░░░░░█████████████████████████████░░░█░";
	@echo " ░ ▒  ▒   ░ ▒ ▒░ ░ ░▒ ▒░    ░      ░ ▒ ▒░   ░▒ ░ ▒░   ▒░▒   ░ ░░▒░ ░ ░    ░ ░░   ░ ▒░ ░ ░  ░ ░█░ ░█████████████████████████████░ ░█░";
	@echo " ░ ░  ░ ░ ░ ░ ▒  ░ ░░ ░   ░      ░ ░ ░ ▒    ░░   ░     ░    ░  ░░░ ░ ░       ░   ░ ░    ░    ░░░ ░█████████████████████████████░ ░█░";
	@echo "   ░        ░ ░  ░  ░                ░ ░     ░         ░         ░                 ░    ░  ░  ░░░ ░██░░░░░░░░░██████░░░░░░░░██░ ░█░";
	@echo " ░                                                          ░                                  ░░ ░░░░       ░░████░        ░░░   ";
	@echo "                                                                                                  ░░         ░█████░         ░█░ ";
	@echo "                                                                                                  ░░█░       ░███████░░      ░░█░";
	@echo "                          ██▓███   ██░ ██  ██▓ ██▓     ▒█████                                     ░███░░░░░░░██░░░░░██░░░░░░░░██░";
	@echo "                         ▓██░  ██▒▓██░ ██▒▓██▒▓██▒    ▒██▒  ██▒                                   ░░████░░░███░     ░░███░░████░░";
	@echo "                         ▓██░ ██▓▒▒██▀▀██░▒██▒▒██░    ▒██░  ██▒                                   ░░░░░█████░░      ░█████░░░░░░";
	@echo "                         ▒██▄█▓▒ ▒░▓█ ░██ ░██░▒██░    ▒██   ██░                                        ░░░██░░ ░░░░ ░██░░░░░";
	@echo "                         ▒██▒ ░  ░░▓█▒░██▓░██░░██████▒░ ████▓▒░                                          ░░██░░███░░██░░";
	@echo "                         ▒▓▒░ ░  ░ ▒ ░░▒░▒░▓  ░ ▒░▓  ░░ ▒░▒░▒░                                        ░░  ░█░░██░░█░░█░░ ░░";
	@echo "                         ░▒ ░      ▒ ░▒░ ░ ▒ ░░ ░ ▒  ░  ░ ▒ ▒░                                        ░░  ░░░░░░░░░░░░░░ ░░";
	@echo "                         ░░        ░  ░░ ░ ▒ ░  ░ ░   ░ ░ ░ ▒                                         ░█░░░░░░░░░░░░░░░░░░░";
	@echo "                                    ░  ░  ░ ░      ░  ░    ░ ░                                        ░░█░██░░██░░█░░██░██░";
	@echo "                                                                                                       ░░███████████████░░";
	@echo "                                                                                                         ░░░░░░░░░░░░░░░";
	@echo "                                                                                                              ░░░░░";
	@echo "                                                                                    $(CYAN)By iergun$(RESET)";
	@echo "                                                                                                             ";	

tittle:
	
	@echo " $(RED)                ▒▒         ▒▒                        ▒▒▒▒▒▒▓           ▓▓▓▓▓▓▒▓        ▓    ▓"
	@echo "                   ▒█▒▓▓    ▓▒█▓              ▓▒██▒▒▒▒██▓   ▓▒▒▒  ▓▒▒▒  ▓█▒▒    ▓▒▒  ▓▒█▒"
	@echo "                    ▒███▒▓▒███▒               ███▒   ▒█▒▒ ▓▒████▓▓████▒ ▓███▒▓ ▓██▓ ▓███▒"
	@echo "                     █████████▓               ███▒   ▓▒   ▓██▓▒████▓▓▒▒▓▓█████████  ▓███▒"
	@echo "                   ▓▓█████████▒▓              ████▓▒▓▒▒▓       ▒██▒     ▓███ ▓▒██▒  ▓███▒ ▓▓▒▓"
	@echo "                 ▓▒██████████████▒▒           ████▒▒▒▒██▒      ▒██▒     ▓███   ▓    ▓███████▒█▒▒"
	@echo "               ▒▒▒▒▒▒▒▒▒████▒▒▒▒▒▒▒▓          ████   ▒█▒       ▒██▒     ▓███        ▓███▒▓ ▒▒█▓"
	@echo "                       ▒███▒                  ████   ▒█        ▒██▒     ▓███        ▓███▒  ▒▒▓"
	@echo "                        ▒██▓                  █▒▒▓   ▒▒        ▒▒▒▓     ▓█▒▒        ▓█▒▒▒  ▒▓"
	@echo "                         █▓                   ▓██▒"
	@echo "          ▓▒   ▓▓▓       ▓             ▓▒         "
	@echo "        ▓▒▒    █▒▓▓▓▓                   ▒▒▓       "
	@echo "      ▒▒█▓     ████▒▓▒▒▒▓▒▓              ▓█▒▓     "
	@echo "     ▒██▓      ▒█████▒██████▒▒▒           ▒██▓    "
	@echo "    ▒██▒       ▒████████▒▒▒████▒▓          ███▒   "
	@echo "   ▒███▓    ▓▒▒▒█████▓▓      ▓▒▓▓▓▓▓▓▓▓    ▒███▒  "
	@echo "  ▓████▓ ▓▓▒▒▒█████▒▓                ▓▓█▒  ▒████▓ "
	@echo "  █████▓    ▓▒████▒              ▓▓▓▒▒▒▒▓  ▒████▒ "
	@echo " ▓█████▒   ▒▓              ▓▓▒▒▒▒▓▒▓▒▒▓▓   ▒█████▓"
	@echo " ▒██████                   ▒▒███▒▒▒▒      ▒██████▒"
	@echo " ▒██████▒           ▓▒▒▒▒██████████▒▓     ▒██████▓"
	@echo " ▓███████▒        ▒▓▒▓▓▓▒▒▒▒▒▓▓▒▒▒▒▓     ▒███████▓"
	@echo " ▓████████▒                            ▓▒███████▒ "
	@echo "  ▒█████████▓                         ▒█████████▓ "
	@echo "   ▒██████████▒▓                   ▒▒██████████▒  "
	@echo "    ▒███████████▒▒▓▓           ▓▓▒████████████▒   "
	@echo "    ▓▒███████████████▒▒▒▒▒▒▒▒▒███████████████▒    "
	@echo "      ▓█████████████████████████████████████▓     "
	@echo "       ▓▒█████████████████████████████████▒       "
	@echo "          ▒▒███████████████████████████▒▓         "
	@echo "            ▒▒▒█████████████████████▒▓▓           "
	@echo "               ▓▓▒▒▒███████████▒▒▓▒               "	
data_race:
	@$(CC) $(FLAGS_DATARACE) $(SRCS) -o $(NAME)	

clean:
	@$(RM) $(NAME) *.dSYM

fclean: tittle clean
	@$(RM) $(NAME) 

re: fclean all

.PHONY: all clean fclean re